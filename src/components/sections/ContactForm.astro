---
import emailjs from "emailjs-com";
---

<form id="contactForm" class="space-y-6">
    <div>
        <label
            for="name"
            class="block text-sm font-medium text-gray-700 dark:text-gray-300"
            >Name</label
        >
        <input
            type="text"
            name="name"
            id="name"
            required
            autoComplete="name"
            autocapitalize="words"
            class="mt-1 block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-gray-900 dark:text-white"
            style="will-change: box-shadow, border-color;"
        />
    </div>
    <div>
        <label
            for="email"
            class="block text-sm font-medium text-gray-700 dark:text-gray-300"
            >Email</label
        >
        <input
            type="email"
            name="email"
            id="email"
            required
            autoComplete="email"
            autocapitalize="off"
            class="mt-1 block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-gray-900 dark:text-white"
            style="will-change: box-shadow, border-color;"
        />
    </div>
    <div>
        <label
            for="message"
            class="block text-sm font-medium text-gray-700 dark:text-gray-300"
            >Message</label
        >
        <textarea
            id="message"
            name="message"
            rows="4"
            required
            autoComplete="off"
            autocapitalize="sentences"
            class="mt-1 block w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-gray-900 dark:text-white"
            style="will-change: box-shadow, border-color;"></textarea>
    </div>
    <div>
        <button
            type="submit"
            class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600"
        >
            Send Email
        </button>
    </div>
</form>

<div
    id="toast"
    class="fixed bottom-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-md hidden z-50"
>
    Email sent successfully!
</div>

<!-- <script>
    document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("contactForm");
        const toast = document.getElementById("toast");

        if (form && toast) {
            form.addEventListener("submit", async (event) => {
                event.preventDefault();
                // EmailJS integration
                const serviceID = "TU_SERVICE_ID";
                const templateID = "TU_TEMPLATE_ID";
                const userID = "TU_USER_ID";
                const formData = new FormData(form);
                const data = {
                    name: formData.get("name"),
                    email: formData.get("email"),
                    message: formData.get("message"),
                };
                try {
                    await emailjs.send(serviceID, templateID, data, userID);
                    toast.textContent = "Email sent successfully!";
                    toast.classList.remove("hidden");
                    setTimeout(() => {
                        toast.classList.add("hidden");
                    }, 3000);
                    form.reset();
                } catch (error) {
                    toast.textContent = "There was an error sending the email.";
                    toast.classList.remove("hidden");
                    setTimeout(() => {
                        toast.classList.add("hidden");
                    }, 3000);
                }
            });
        } else {
            console.error(
                "Could not find the contact form or the toast element.",
            );
        }
    });
</script> -->
